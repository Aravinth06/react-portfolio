{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../../AuthContext\";// adjust path\nimport{Helmet,HelmetProvider}from\"react-helmet-async\";import{Container,Table,Button,Row,Col,Spinner,Alert}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const AdminDashboard=()=>{const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const navigate=useNavigate();const{setIsAdminLoggedIn}=useAuth();useEffect(()=>{fetch(\"https://react-backend-91ja.onrender.com/api/contact/messages\").then(res=>{if(!res.ok)throw new Error(\"Failed to fetch messages\");return res.json();}).then(data=>{setMessages(data);setLoading(false);}).catch(err=>{setError(err.message);setLoading(false);});},[]);const handleLogout=()=>{setIsAdminLoggedIn(false);navigate(\"/\");};return/*#__PURE__*/_jsxs(HelmetProvider,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Admin Dashboard\"})}),/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Customer Messages\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleLogout,children:\"Logout\"})})]}),loading&&/*#__PURE__*/_jsx(Spinner,{animation:\"border\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:msg.name}),/*#__PURE__*/_jsx(\"td\",{children:msg.phone}),/*#__PURE__*/_jsx(\"td\",{children:msg.email}),/*#__PURE__*/_jsx(\"td\",{children:msg.message}),/*#__PURE__*/_jsx(\"td\",{children:msg.submitted_at?new Date(msg.submitted_at.replace(\" \",\"T\")).toLocaleString():\"N/A\"})]},msg.id))})]})]})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}